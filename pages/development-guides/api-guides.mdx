import { Tab, Tabs } from 'nextra-theme-docs';
import { Callout } from 'nextra-theme-docs';
import Image from 'next/image';

# ROQ API Overview

## Introduction

All of ROQ's functionality is provided by ROQ Platform, a headless API-driven system that ROQ operates. ROQ Platform
uses **GraphQL** as the primary approach for representing APIs. GraphQL is simple to use and easy to learn. We recommend
starting your journey at the official GraphQL documentation: [Introduction to GraphQL](https://graphql.org/learn/).
The following picture shows a bird's eye view of the API.

<Image src={"/roqplatform.png"} alt="Hello" width={598} height={370} />

## Available APIs

You can find a generated GraphQL reference with all queries, mutations and types
here: [ROQ Platform API](https://jupiter-pp.roq-platform.com/docs/). This
documentation focuses on the most relevant functionalities:

* [Uploading and fetching files](/files/api)
* [Sending emails](/mails/api)
* [Sending and receiving notifications](/notifications/api)
* [Managing users](/user-management/api)
* [Managing user groups](/user-groups/api)

## Using the GraphQL Sandbox

You can run GraphQL queries yourself using the sandbox. See instructions [here](/development-guides/sandbox-api).

## Using the SDK

ROQ provides an SDK for Node.js applications, simplifying the API's usage but still allowing you to use GraphQL 
queries and mutations if needed. Please start with the [SDK documentation](/development-guides/sdk-api). 

## GraphQL basics

In case you want to use GraphQL directly, we recommend to make yourself familiar with the basics of using queries 
and mutations:

* [Queries and mutations](/development-guides/graphql-basics-api#queries-and-mutations)
* [Fetch records by ID](/development-guides/graphql-basics-api#fetch-by-id)
* [Adding relations](/development-guides/graphql-basics-api#adding-relations)
* [Counting](/development-guides/graphql-basics-api#counting)
* [Order, Limit and Offset](/development-guides/graphql-basics-api#order-limit-and-offset)
* [Filtering of data](/development-guides/graphql-basics-api#iltering-of-data)

## URL and credentials of ROQ Platform

ROQ operates multiple instances of ROQ Platform. You can find the URL of your instance when you log in to
[ROQ Console](https://console.roq.tech/). There you also find the other credentials like `apiKey` and `environmentId`
which you need to pass to the [ROQProvider wrapper](/getting-started#5-install-roqprovider-on-client-side) in your
client-side application.

{/* TODO Complete this section when SDK is there */}

## Client- and server-side APIs

Some GraphQL mutations aren't available on the client side of your application and can only be used from the
server side. That's because users could manipulate parameters and perform undesirable behavior. For this reason ROQ
Platform exposes two endpoints:

* **`{URL}/v01/graphql`** - API for the client-side of your application. Interactions require a user token.
* **`{URL}/v01/server/graphql`** - API for the server-side of your application. Interactions require a user token and
  the `apiKey`.

<Callout type="warning" emoji="⚠️">
  Don't share the `apiKey` with anyone and don't use it on the client-side on your application. It's also 
recommended to provide it via environment variables and don't place it into your repository.
</Callout>
