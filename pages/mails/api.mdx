import { Tab, Tabs } from 'nextra-theme-docs';
import { Callout } from 'nextra-theme-docs'

# Mails API

## Introduction

ROQ Platform provides a unified way to send emails utilizing multiple providers like Sendgrid, Mandrill, Mailgun, and
others. Please refer to the [mails feature guide](/mails) for more information and instructions.

## Mutations

### `sendMail()`

<Callout type="info" emoji="ℹ️">
  This endpoint is only available from the server side of your application.
</Callout>

The `sendMail()` mutation can be used to send e-mails. The mutation returns the number of emails sent. You can find
the full API doc of this mutation [here](https://mars-pp.roq-platform.com/docs/#mutation-sendMail).

<Tabs items={['Node.js SDK', 'GraphQL']}><Tab>

```graphql
mutation {
  sendMail(
    mail: {
      key: "abc123"
      locale: "abc123"
      emails: ["xyz789"]
      data: [{ key: "xyz789", value: "xyz789" }]
    }
  ) {
    mailsSent: {count}
  }
}

```

</Tab><Tab>

```typescript
await client.asSuperAdmin().sendMail({
  mail: {
      key: 'abc123',
      locale: 'abc123',
      emails: ['xyz789'],
      data: [{ key: 'xyz789', value: 'xyz789' }] },
});
```

</Tab></Tabs>

| Parameter | Type   | Description                                                                   |
|-----------|--------|-------------------------------------------------------------------------------|
| `key`     | string | Key of mail type that you created in ROQ Console, eg._"WELCOME_NOTIFICATION"_ |
| `locale`  | string | Locale (language) of the mail, eg _"en-US"_                                   |
| `emails`  | array  | List of email addresses                                                       |
| `data`    | array  | Array with key/value pairs. You can use this data in the template             |
